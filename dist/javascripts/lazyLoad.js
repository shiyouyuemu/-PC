"use strict";!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(s){function i(){}s.fn.lazyLoad=function(t){(new i).init(t)},s.extend(i.prototype,{init:function(t){t&&(this.options=t),null!=t.ifloading?this.ifloading=t.ifloading:this.ifloading=!1,t.cont&&(this.cont=t.cont),t.templates&&(this.templates=t.templates),t.typeList&&(this.typeList=t.typeList),t.li&&(this.li=t.li),t.ifAdd?this.ifAdd=t.ifAdd:this.ifAdd=!0,this.isDown=!1,this.showArray=[],this.nameList=[],this.start=0,this.liststart=0,this.ifgo=!0,this.bindEvent(),setTimeout(this.lazyLoad.bind(this),200)},bindEvent:function(){var t=this;s(window).on("scroll",function(){t.lazyLoad()})},lazyLoad:function(){this.list=s(this.li),this.nowScroll=s(document).scrollTop(),this.wheight=s(window).height();for(var t=this.liststart;t<this.list.length;t++)s(this.list[t]).offset().top<=this.nowScroll+this.wheight&&(this.showArray.push(this.list[t]),this.nameList.push(s(this.list[t]).attr("data-name")),this.liststart++);0<this.showArray.length&&this.showArray.length<=this.list.length&&this.ifLoad()},ifLoad:function(){this.isDown||(this.showArray.forEach(function(t){var i=new Image;i.src=s(t).attr("data-img"),s(t).find("img").attr("src")!=i.src&&(i.onload=function(){s(t).find("img").attr("src",i.src)})}),this.ifloading?this.rend():this.showArray.length==this.list.length&&(this.isDown=!0))},rend:function(){this.showArray.length==this.list.length&&this.list.last().offset().top+this.list.last().height()<=this.nowScroll+this.wheight&&(this.isDown=!0,this.start+=16,s("body").list({cont:this.cont,templates:this.templates,typeList:this.typeList,start:this.start,ifAdd:this.ifAdd}),setTimeout(function(){s("body").sendSelf({item:".item"})},500),setTimeout(this.rending.bind(this),500))},rending:function(){this.isDown=!1,this.list=s(this.li)}})});
//# sourceMappingURL=lazyLoad.js.map
