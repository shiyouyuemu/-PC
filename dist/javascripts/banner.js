"use strict";!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(n){function i(){}n.fn.banner=function(t){(new i).init(this,t)},n.extend(i.prototype,{init:function(t,i){i&&(this.options=i),i.cont?this.cont=n(i.cont):this.cont=t,i.btns&&(this.prevBtn=n(i.btns.prev_btn,this.content)),i.btns&&(this.nextBtn=n(i.btns.next_btn,this.content)),i.auto?this.auto=!0:this.auto=!1,i.dot?this.dot=!0:this.dot=!1,i.type?this.type=i.type:this.type="hide",i.wrapper?this.wrapper=i.wrapper:this.wrapper=".wrapper",i.speed?this.speed=i.speed:this.speed=3e3,i.changeNum?this.changeNum=parseInt(i.changeNum):this.changeNum=1,i.num?this.num=parseInt(i.num):this.num=0,this.slides=this.cont.find(i.slides),"change"==this.type&&this.createLF(),this.slides=this.cont.find(i.slides),this.distance=n(this.slides[1]).width()+parseInt(n(this.slides[1]).css("marginRight"))+parseInt(n(this.slides[1]).css("borderLeft"))+parseInt(n(this.slides[1]).css("borderRight")),this.index=this.num,this.previndex=0,this.playTimer=null,this.timer=null,this.ifTime=!0,this.auto&&this.autoPlay(),this.dot&&this.createDot(),"change"==this.type&&n(this.wrapper,this.cont).css({left:-this.num*this.distance+"px"}),this.bindEvent()},bindEvent:function(){var i=this;this.options.btns&&this.prevBtn.on("click",function(){i.changeIndex("prev"),i.auto&&i.autoPlay()}),this.options.btns&&this.nextBtn.on("click",function(){i.changeIndex("next"),i.auto&&i.autoPlay()}),this.options.dot&&n(".dot").on("click",function(t){i.changeIndex("dot",t),i.auto&&i.autoPlay()})},changeIndex:function(t,i){var e=this;if(this.ifTime){if("next"===t)this.previndex=this.index,this.index===this.slides.length-1?this.index=0:this.index+=this.changeNum;else if("prev"===t)this.previndex=this.index,0===this.index?this.index=this.slides.length-1:this.index-=this.changeNum;else if("dot"==t){var s=(i||event).target;n.each(n(".dot"),function(t,i){i==s&&(e.previndex=e.index,e.index=t)})}this.play(),this.ifTime=!1,clearTimeout(this.timer),this.timer=setTimeout(function(){this.ifTime=!0}.bind(this),1e3)}},play:function(){switch(this.type){case"hide":this.slides.removeClass("show").eq(this.index).addClass("show").css({display:"none"}).stop().fadeIn(2e3),this.slides.removeClass("prev-show").eq(this.previndex).addClass("prev-show"),n(".dot").removeClass("active").eq(this.index).addClass("active");break;case"change":this.index==this.changeNum?(n(this.wrapper,this.cont).css({left:(-this.num-this.changeNum-this.changeNum)*this.distance+"px"}),this.index=this.num+this.changeNum):this.index==this.slides.length-this.num+this.changeNum&&(n(this.wrapper,this.cont).css({left:-this.num*this.distance+"px"}),this.index=this.num+this.changeNum),n(this.wrapper,this.cont).animate({left:-this.index*this.distance+"px"},500)}},autoPlay:function(){clearInterval(this.playTimer),this.playTimer=setInterval(function(){this.changeIndex("next")}.bind(this),this.speed)},createDot:function(){var t=n(this.slides).length,i=document.createElement("div");n(i).attr("class","dotCont"),n(i).css({width:24*t+"px"});for(var e=0;e<t;e++){var s=document.createElement("i");n(s).attr("class","dot"),0==e&&n(s).addClass("active"),i.append(s)}n(this.cont).append(i)},createLF:function(){var t=n(this.wrapper,this.cont).html();n(this.wrapper,this.cont).append(t),n(this.wrapper,this.cont).prepend(t),setTimeout(function(){n("body").sendSelf({item:".item"})},1e3)}})});
//# sourceMappingURL=banner.js.map
