{"version":3,"sources":["login.js"],"names":["factory","define","amd","jQuery","Login","$","fn","login","options","init","this","extend","prototype","that","acc","account","password","pwd","cont","bindEvent","on","log","bind","attr","ajax","url","type","dataType","data","username","val","success","res","location","href","alert","error","e","console"],"mappings":"cAAA,SAAWA,GACc,mBAAVC,QAAwBA,OAAOC,IAD7CD,OAAUD,CAAAA,UAASA,GAEZC,EAAQE,QAFhB,CAIQH,SAAQG,GAGZ,SAAAC,KAFCC,EAAAC,GAAAC,MAAA,SAAAC,IACF,IAAAJ,GAAaK,KAAAC,KAAAF,IAMZH,EAAEM,OAAOP,EAAMQ,UAAW,CAD1BH,KAASL,SAAUS,EAAAL,GAGXE,KAAKG,KAAOA,EAFXT,KAAMQ,QAAfJ,EACUE,KAAAF,QAAUK,UAAML,KAASM,IAAAJ,KAAAF,QAAAO,SACtBF,KAALL,QAAAQ,WAAAN,KAAAO,IAAAP,KAAAF,QAAAQ,UACKR,KAAAA,QAAUA,OAAfE,KAAAQ,KAAAR,KAAAF,QAAAU,MACKV,KAAAA,aAELW,UAAaD,WACRC,KAAAA,KAALC,GAAA,QAAAV,KAAAW,IAAAC,KAAAZ,QAEJS,IAAS,WATa,GAAA,SAULd,EAAAK,KAASQ,MAAAK,KAAA,QAgBV,OAAA,EAbJlB,EAAImB,KAAC,CAILC,IALK,qBAEFC,KAAX,MACcC,SAAA,OACHC,KAAA,CAAAC,SAAAxB,EAAAK,KAAAI,KAAAgB,MAAAd,SAAAX,EAAAK,KAAAO,KAAAa,OAIGC,QAAA,SAAAC,GAEU,OAADA,EAAWF,MANvB,KAAA,EAQMG,SAAeC,KAAA,gBACpB,MACA,KAAA,EACIC,MAAA,QACoB,MAChB,KAAA,EAKAA,MAAM,WAJV,MACS,KAAL,EACAA,MAAA,cAEMC,MAAA,SAANC,GACAC,QAAAjB,IAAA,gBAAAgB","file":"login.js","sourcesContent":["(function (factory) {\r\n    if (typeof define == \"function\" && define.amd) {\r\n        define([\"jquery\"], factory);\r\n    } else {\r\n        factory(jQuery);\r\n    }\r\n})(function ($) {\r\n    $.fn.login = function (options) {\r\n        new Login().init(this, options);\r\n    }\r\n\r\n    function Login() {}\r\n    $.extend(Login.prototype, {\r\n        init: function (that, options) {\r\n            this.that = that;\r\n            this.options = options;\r\n            this.options.account ? this.acc = this.options.account : \"\";\r\n            this.options.password ? this.pwd = this.options.password : \"\";\r\n            this.options.cont ? this.cont = this.options.cont : \"\";\r\n            this.bindEvent();\r\n        },\r\n        bindEvent: function () {\r\n            this.that.on(\"click\", this.log.bind(this));\r\n        },\r\n        log: function () {\r\n            let ifOk = $(this.cont).attr(\"ifOk\");\r\n            if (ifOk===\"true\") {\r\n                let src = \"./server/login.php\";\r\n                $.ajax({\r\n                    url:src,\r\n                    type: \"get\",\r\n                    dataType: \"json\",\r\n                    data: {\r\n                        username: $(this.acc).val(),\r\n                        password: $(this.pwd).val()\r\n                    },\r\n                    success: function (res) {\r\n                        //res = JSON.parse(res);\r\n                        switch (res.code) {\r\n                            case 1:\r\n                                location.href = \"../index.html\";\r\n                                break;\r\n                            case 2:\r\n                                alert(\"参数不全\");\r\n                                break;\r\n                            case 3:\r\n                                alert(\"数据库查询错误\");\r\n                                break;\r\n                            case 4:\r\n                                alert(\"用户名和密码不符\");\r\n                                break;\r\n                        }\r\n                    },error:function(e){\r\n                        console.log(\"登录失败，请检查您的网络！\"+e);\r\n                    }\r\n\r\n                })\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    });\r\n})"]}