{"version":3,"sources":["register.js"],"names":["factory","define","amd","jQuery","Register","$","fn","register","options","init","this","extend","prototype","that","acc","account","password","pwd","cont","bindEvent","on","log","bind","attr","ifCom","ifOk","alert","url","type","dataType","data","username","val","success","res","location","href","code","error"],"mappings":"cAAA,SAAWA,GACc,mBAAVC,QAAwBA,OAAOC,IAD7CD,OAAUD,CAAAA,UAASA,GAEZC,EAAQE,QAFhB,CAIQH,SAAQG,GAGZ,SAAAC,KAFCC,EAAAC,GAAAC,SAAA,SAAAC,IACF,IAAAJ,GAAaK,KAAAC,KAAAF,IAMZH,EAAEM,OAAOP,EAASQ,UAAW,CAD7BH,KAASL,SAAaS,EAAAL,GAGdE,KAAKG,KAAOA,EAFXT,KAAAA,QAASQ,EACRF,KAAAF,QAAUK,UAAML,KAASM,IAAAJ,KAAAF,QAAAO,SACtBF,KAALL,QAAAQ,WAAAN,KAAAO,IAAAP,KAAAF,QAAAQ,UACKR,KAAAA,QAAUA,OAAfE,KAAAQ,KAAAR,KAAAF,QAAAU,MACKV,KAAAA,aAELW,UAAaD,WACRC,KAAAA,KAALC,GAAA,QAAAV,KAAAW,IAAAC,KAAAZ,QAEJS,IAAS,WACAN,IAAKO,EAAGf,EAAAK,KAASQ,MAAAK,KAAA,QAVDC,EAAAnB,EAAAK,KAAAQ,MAAAK,KAAA,SAYpB,GAAA,QAAAE,GAAY,SAAAD,EA+BGE,OAAM,EA7BbrB,EAACA,KAAE,CAIJsB,IALUT,wBAERU,KAAN,MACUC,SAAA,OACHC,KAAA,CAAAC,SAAA1B,EAAAK,KAAAI,KAAAkB,MAAAhB,SAAAX,EAAAK,KAAAO,KAAAe,OAIGC,QAAA,SAAAC,GACU,OAADA,EAAWF,MACV,KAAKf,EANlBkB,SAAAC,KAAA,eAQM,MACOC,KAAZ,EACEX,MAAA,aACWU,MACT,KAAA,EAKAV,MAAM,WAJR,MACQ,KAAA,EACNA,MAAA,YAMA,MALF,KAAA,EACQA,MAAN,WACA,MAOF,KAAK,EANLA,MAAA,UAUJY,MAAM,WAPFZ,MAAA","file":"register.js","sourcesContent":["(function (factory) {\r\n    if (typeof define == \"function\" && define.amd) {\r\n        define([\"jquery\"], factory);\r\n    } else {\r\n        factory(jQuery);\r\n    }\r\n})(function ($) {\r\n    $.fn.register = function (options) {\r\n        new Register().init(this, options);\r\n    }\r\n\r\n    function Register() {}\r\n    $.extend(Register.prototype, {\r\n        init: function (that, options) {\r\n            this.that = that;\r\n            this.options = options;\r\n            this.options.account ? this.acc = this.options.account : \"\";\r\n            this.options.password ? this.pwd = this.options.password : \"\";\r\n            this.options.cont ? this.cont = this.options.cont : \"\";\r\n            this.bindEvent();\r\n        },\r\n        bindEvent: function () {\r\n            this.that.on(\"click\", this.log.bind(this));\r\n        },\r\n        log: function () {\r\n            let ifOk = $(this.cont).attr(\"ifOk\");\r\n            let ifCom=$(this.cont).attr(\"ifCom\");\r\n            if (ifOk==\"true\"&&ifCom==\"false\") {\r\n                let src = \"./server/register.php\";\r\n                $.ajax({\r\n                    url:src,\r\n                    type: \"get\",\r\n                    dataType: \"json\",\r\n                    data: {\r\n                        username: $(this.acc).val(),\r\n                        password: $(this.pwd).val()\r\n                    },\r\n                    success: function (res) {                 \r\n                        switch (res.code) {\r\n                          case 1:\r\n                            location.href = \"./login.html\";\r\n                            break;\r\n                          case 2:\r\n                            alert(\"账号或密码缺失不全\");\r\n                            break;\r\n                          case 3:\r\n                            alert(\"数据库查询错误\");\r\n                            break;\r\n                          case 4:\r\n                            alert(\"密码或用户名错误\");\r\n                            break;\r\n                          case 5:\r\n                            alert(\"用户名已经存在\");\r\n                            break;\r\n                          case 6:\r\n                            alert(\"注册失败\");\r\n                            break;\r\n                        }\r\n                    },error:function(){\r\n                        alert(\"登录失败，请检查您的网络！\");\r\n                    }\r\n\r\n                })\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    });\r\n})"]}